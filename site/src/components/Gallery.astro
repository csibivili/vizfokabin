---
import hero1 from "../assets/images/hero/1.jpg"
import hero2 from "../assets/images/hero/2.jpg"
import hero3 from "../assets/images/hero/3.jpg"
import gallery1 from "../assets/images/gallery/1.jpg"
import gallery2 from "../assets/images/gallery/2.jpg"
import gallery3 from "../assets/images/gallery/3.jpg"
import gallery4 from "../assets/images/gallery/4.jpg"
import gallery5 from "../assets/images/gallery/5.jpg"

import SectionTitle from "./SectionTitle.astro"

const images = [
	hero1,
	hero2,
	hero3,
	gallery1,
	gallery3,
	gallery2,
	gallery4,
	gallery5,
]
---

<SectionTitle text="GalÃ©ria" />
<div
	class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-5xl mx-auto"
>
	{
		images.map((img) => (
			<button
				type="button"
				class="gallery-thumb border-0 p-0 bg-transparent cursor-pointer text-left"
				data-src={img.src}
			>
				<img
					src={img.src}
					alt=""
					class="w-full aspect-[4/3] object-cover rounded-lg hover:opacity-90 transition-opacity"
				/>
			</button>
		))
	}
</div>

<div
	id="gallery-popup"
	class="fixed inset-0 z-50 hidden items-center justify-center bg-black/80 cursor-pointer"
	aria-hidden="true"
>
	<img
		id="gallery-popup-img"
		src=""
		alt=""
		class="max-w-[90vw] max-h-[90vh] object-contain rounded-xl"
	/>
</div>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		const popup = document.getElementById("gallery-popup")
		const popupImg = document.getElementById("gallery-popup-img")
		const thumbs = document.querySelectorAll(".gallery-thumb")

		thumbs.forEach((btn) => {
			btn.addEventListener("click", () => {
				popupImg.src = btn.dataset.src
				popup.classList.remove("hidden")
				popup.classList.add("flex")
			})
		})

		popup.addEventListener("click", () => {
			popup.classList.add("hidden")
			popup.classList.remove("flex")
		})
	})
</script>
